{% extends "base.html" %}

{% block content %}
<div class="container py-5">
    <h1 class="mb-4">About Hamasisho</h1>
    
    <div class="row">
        <div class="col-lg-8">
            <div class="card mb-4">
                <div class="card-body">
                    <h3>Our Mission</h3>
                    <p class="lead">Empowering Kenyan voices to drive positive change through coordinated digital advocacy.</p>
                    
                    <h4 class="mt-4">Who We Are</h4>
                    <p>Hamasisho is a grassroots digital platform that connects concerned Kenyan citizens with decision-makers. 
                    We facilitate collective action on pressing issues affecting our communities, from environmental conservation 
                    to social justice and governmental accountability.</p>

                    <h4 class="mt-4">What We Do</h4>
                    <ul class="list-unstyled">
                        <li class="mb-3">üåç <strong>Unite Voices:</strong> Coordinate email campaigns to amplify community concerns</li>
                        <li class="mb-3">ü§ù <strong>Build Bridges:</strong> Connect citizens directly with policy makers and leaders</li>
                        <li class="mb-3">üì¢ <strong>Drive Change:</strong> Transform individual actions into powerful collective movements</li>
                        <li class="mb-3">üìä <strong>Track Impact:</strong> Measure and showcase our campaigns' reach and effectiveness</li>
                    </ul>

                    <h4 class="mt-4">Current Focus Areas</h4>
                    <p>Our platform addresses key issues in Kenya including:</p>
                    <ul>
                        <li>Environmental Conservation</li>
                        <li>Social Justice Reform</li>
                        <li>Government Accountability</li>
                        <li>Public Service Delivery</li>
                        <li>Community Development</li>
                    </ul>

                    <div class="bg-light p-4 mt-4 rounded">
                        <h4 class="text-center mb-3">Join the Movement</h4>
                        <p class="text-center mb-0">Together, we can build a better Kenya through coordinated civic action. 
                        Every email, every voice, every action counts.</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-lg-4">
            <div class="card">
                <div class="card-body">
                    <h4>Impact Statistics</h4>
                    <div class="text-center">
                        <div class="h2 mb-0">{{ '{:,}'.format(total_emails) if total_emails else 0 }}</div>
                        <script>
                            async function updateEmailCount() {
                                try {
                                    const response = await fetch('/get_email_count');
                                    if (!response.ok) throw new Error('Network response was not ok');
                                    const data = await response.json();
                                    document.getElementById('emailCount').textContent = 
                                        parseInt(data.total_emails).toLocaleString();
                                } catch (error) {
                                    console.error('Error fetching email count:', error);
                                }
                            }
                            
                            // Update immediately and every 30 seconds
                            updateEmailCount();
                            setInterval(updateEmailCount, 30000);
                            </script>
                        <p class="text-muted">Emails Sent</p>
                        
                        <div class="h2 mb-0">{{ '{:,}'.format(total_campaigns) if total_campaigns else 0 }}</div>
                        <p class="text-muted">Active Campaigns</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}